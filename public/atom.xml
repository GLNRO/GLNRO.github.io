<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Lauren Gallinaro</title>
  
  
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://glnro.github.io/"/>
  <updated>2018-01-24T23:45:14.000Z</updated>
  <id>http://glnro.github.io/</id>
  
  <author>
    <name>L Gallinaro</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>Up And Running With React &amp; Redux &amp; Three.JS without the copying/pasting...Part 1</title>
    <link href="http://glnro.github.io/2020/01/01/Up-And-Running-With-React-Redux-Three-1/"/>
    <id>http://glnro.github.io/2020/01/01/Up-And-Running-With-React-Redux-Three-1/</id>
    <published>2020-01-01T15:37:05.000Z</published>
    <updated>2018-01-24T23:45:14.000Z</updated>
    
    <content type="html"><![CDATA[<p>I am always tremendously grateful for the pedagogical stewards of ‘hacking around on the internet’ who take the time to explain how to get up and running with the new Derp.js framework or Whale Box, the containerized deployment platform. After years of procrastination and being too busy to write blog posts, I will humbly attempt to throw in my two pennies about bootstrapping a React/Redux application meant to serve Three.js content.</p><h3 id="Initialization"><a href="#Initialization" class="headerlink" title="Initialization"></a>Initialization</h3><p>Packages for creating an app quick like create-a-react-app are nice to spike out a project but obscure what’s going on behind the scenes. For that reason, i’ll delve into why everything we require is being used and what its purpose is. It’s easy to take for granted that readers will know the basics of how to initialize a package or what babel loaders are when you use these tools every day, so I’ve tried to explain everything in a way that might seem overly detailed. If you think something is incorrect or could use additional explanation, I’m happy to take the feedback.</p><ol><li><p>Initialize the application (you should have node/npm installed already)</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">npm init</div></pre></td></tr></table></figure></li><li><p>Install application dependencies</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">npm install --save react react-dom react-redux redux redux-saga isomorphic-fetch webpack webpack-dev-server</div></pre></td></tr></table></figure></li></ol><p>We install <a href="https://github.com/facebook/react" target="_blank" rel="external">react</a> and <a href="https://www.npmjs.com/package/react-dom" target="_blank" rel="external">react-dom</a> for access to the react library and facilitate an entry point for rendering the application into the dom. We install <a href="https://redux.js.org/" target="_blank" rel="external">redux</a> for the library and <a href="https://github.com/reactjs/react-redux" target="_blank" rel="external">react-redux</a> for the react bindings for redux. Further, we’ll install <a href="https://github.com/redux-saga/redux-saga" target="_blank" rel="external">redux-saga</a> for when we are managing side-effects/asynchronous tasks. <a href="">Isomorphic-fetch</a> is the library we’ll use for making api calls, and <a href="https://webpack.js.org/" target="_blank" rel="external">webpack</a> is the module bundler for the project, and <a href="https://github.com/webpack/webpack-dev-server" target="_blank" rel="external">webpack-dev-server</a> for our live-reloading dev serveer. Webpack could take up its own post, so check out this <a href="https://survivejs.com/webpack/what-is-webpack/" target="_blank" rel="external">survivejs post</a> for further reading.</p><ol><li>Install language dependencies</li></ol><p>Babel<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">npm install --save babel-core babel-loader babel-polyfill babel-preset-env babel-preset-react html-webpack-plugin</div></pre></td></tr></table></figure></p><p>We use Babel to transpile javascript to the current version your browser supports. It’s effectively future proofing your javascript so you can leverage new syntax while making sure your content is available for everyone.</p><p><a href="https://github.com/babel/babel/tree/master/packages/babel-core" target="_blank" rel="external">babel-core</a> Babel’s core library<br><a href="https://github.com/babel/babel-loader" target="_blank" rel="external">babel-loader</a> The Babel plugin used for Webpack<br><a href="https://babeljs.io/docs/usage/polyfill/" target="_blank" rel="external">babel-polyfill</a> Babel polyfill is the polyfill for older web browsers allowing for the use of new ES6 built-ins (ie Map/Promise)<br><a href="https://github.com/babel/babel/tree/master/packages/babel-preset-env" target="_blank" rel="external">babel-preset-env</a> Preset env replaces preset-2015 and compiles anything post 2015 down to ES5<br><a href="https://github.com/babel/babel/tree/master/packages/babel-preset-react" target="_blank" rel="external">babel-preset-react</a> Preset for all react plugins<br><a href="">html-webpack-plugin</a> HTML plugin for webpack</p><ol><li>Install testing dependencies</li></ol><p>For testing and debugging, we’ll use <a href="https://github.com/airbnb/enzyme" target="_blank" rel="external">enzyme</a> for testing react,  <a href="https://github.com/wheresrhys/fetch-mock" target="_blank" rel="external">fetch-mock</a> for mocking our api requests, <a href="https://www.npmjs.com/package/react-test-renderer" target="_blank" rel="external">react-test-renderer</a> for testing rendering without the dom, <a href="https://github.com/arnaudbenard/redux-mock-store" target="_blank" rel="external">redux-mock-store</a> to mock the store for integration testing, and <a href="https://github.com/evgenyrodionov/redux-logger" target="_blank" rel="external">redux-logger</a> for debugging redux actions and state change in the console.</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">npm install --save-dev enzyme fetch-mock react-test-renderer redux-mock-store redux-logger</div></pre></td></tr></table></figure><h3 id="Project-setup"><a href="#Project-setup" class="headerlink" title="Project setup"></a>Project setup</h3><p>Now that project dependencies installed, go ahead and setup the project directory structure. We’ll have and src/ directory for our models/components and services, a test/ directory, and a public/ directory for our bundled application output (or dist/ if you prefer).</p><p>In src/ we’ll need an App.js, and an index.js. Our public/ directory will only hold our index.html for now.</p><p>src/App.js will just return some html at present, but will eventually contain our routes and top level components or containers<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">import React, &#123;Component&#125; from &apos;react&apos;;</div><div class="line"></div><div class="line">export default class App extends Component &#123;</div><div class="line"></div><div class="line">  render()&#123;</div><div class="line">    return(</div><div class="line">      &lt;div&gt;</div><div class="line">        &lt;h1&gt;Hello World&lt;/h1&gt;</div><div class="line">      &lt;/div&gt;);</div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p><p>src/index.js is tasked with finding the html container in our index.html and rendering our application inside (<div> ‘#main’ in this case, but you can give it any id).<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">import React from &apos;react&apos;;</div><div class="line">import ReactDOM from &apos;react-dom&apos;;</div><div class="line">import App from &apos;./App&apos;;</div><div class="line"></div><div class="line">ReactDOM.render(&lt;App /&gt;, document.getElementById(&apos;main&apos;));</div></pre></td></tr></table></figure></div></p><p>Finally public/index.html will be the entry point for our application to be rendered.<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">&lt;!DOCTYPE html&gt;</div><div class="line">&lt;html lang=&quot;en&quot;&gt;</div><div class="line">  &lt;head&gt;</div><div class="line">    &lt;meta charset=&quot;utf-8&quot;&gt;</div><div class="line">    &lt;title&gt;App Title&lt;/title&gt;</div><div class="line">  &lt;/head&gt;</div><div class="line">  &lt;body&gt;</div><div class="line">    &lt;noscript&gt;</div><div class="line">      You need to enable JavaScript to run this app.</div><div class="line">    &lt;/noscript&gt;</div><div class="line">    &lt;div id=&quot;main&quot;&gt;&lt;/div&gt;</div><div class="line">  &lt;/body&gt;</div><div class="line">&lt;/html&gt;</div></pre></td></tr></table></figure></p><h3 id="Project-configuration"><a href="#Project-configuration" class="headerlink" title="Project configuration"></a>Project configuration</h3><p>Now we’ll need to go ahead and configure webpack and babel to compile our application code. Make sure to touch a webpack.config.js and .babelrc in the root directory. You can alternatively place configuration files in a separate config/ directory, just make sure to resolve the paths in package.json as well as the webpack config.</p><p>Configure your .babelrc to include the presets for our application. Any plugins can be specified as well, in this case, transform-object-rest-spread as an example.<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">&#123;</div><div class="line">&quot;presets&quot;: [&quot;react&quot;, &quot;env&quot;],</div><div class="line">    &quot;plugins&quot;: [</div><div class="line">      &quot;transform-object-rest-spread&quot;</div><div class="line">      ]</div><div class="line">&#125;</div></pre></td></tr></table></figure></p><p>Our webpack config will first set our path variable to resolve absolute paths, and require our html-webpack-plugin</p><p>In the module.exports, the entry for our application will be the index.js in the src/ directory. The output (our bundled app) will be named bundle.js and will be built in the public directory.</p><p>There are a series of <a href="https://webpack.js.org/loaders/" target="_blank" rel="external">loaders</a> to bundle static resources; This project uses loaders for jsx, sass/css, as well as url and image loaders.</p><p>The dev server is configured to find the bundled output of the application in the public/ directory, and serve the application on port 3001.</p><p>Finally the only plugin used for this project will be the html webpack plugin required earlier. We set the template as the full path and filename of index.html.<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div></pre></td><td class="code"><pre><div class="line">let path = require(&apos;path&apos;);</div><div class="line">const HtmlWebPackPlugin = require(&quot;html-webpack-plugin&quot;);</div><div class="line"></div><div class="line">module.exports = &#123;</div><div class="line">  entry: &apos;./src/index.js&apos;,</div><div class="line">  output:&#123;</div><div class="line">    filename: &apos;bundle.js&apos;,</div><div class="line">    path: path.resolve(__dirname, &apos;public&apos;)</div><div class="line">  &#125;,</div><div class="line">  module: &#123;</div><div class="line">    loaders: [</div><div class="line">      &#123;</div><div class="line">        test: /.jsx?$/,</div><div class="line">        loader: &apos;babel-loader&apos;,</div><div class="line">        exclude: /node_modules/,</div><div class="line">        query: &#123;</div><div class="line">          presets: [&apos;env&apos;, &apos;react&apos;],</div><div class="line">          plugins: [&apos;transform-object-rest-spread&apos;],</div><div class="line">        &#125;,</div><div class="line">      &#125;,</div><div class="line">      &#123; test: /\.s?css$/, use: [&#123; loader: &apos;style-loader&apos; &#125;, &#123; loader: &apos;css-loader&apos; &#125;, &#123; loader: &apos;sass-loader&apos; &#125;] &#125;,</div><div class="line">      &#123; test: /\.woff(2)?(\?v=[0-9]\.[0-9]\.[0-9])?$/, loader: &apos;url-loader?limit=10000&amp;mimetype=application/font-woff&apos; &#125;,</div><div class="line">      &#123; test: /\.(ttf|eot)(\?v=[0-9]\.[0-9]\.[0-9])?$/, loader: &apos;file-loader&apos; &#125;,</div><div class="line">      &#123; test: /\.(gif|png|jpe?g|svg)$/i, use: [&apos;file-loader&apos;, &#123; loader: &apos;image-webpack-loader&apos;, options: &#123; bypassOnDebug: true &#125; &#125;] &#125;,</div><div class="line">    ],</div><div class="line">  &#125;,</div><div class="line">  devServer: &#123;</div><div class="line">        contentBase: path.resolve(__dirname, &quot;public&quot;),</div><div class="line">        port: 3001</div><div class="line">      &#125;,</div><div class="line">  plugins: [</div><div class="line">        new HtmlWebPackPlugin(&#123;</div><div class="line">            template: &quot;./public/index.html&quot;,</div><div class="line">            filename: &quot;./index.html&quot;</div><div class="line">          &#125;)</div><div class="line">        ]</div><div class="line">&#125;;</div></pre></td></tr></table></figure></p><p>Finally we’ll add two commands, build and start, to the package.json scripts.</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">...</div><div class="line">&quot;main&quot;: &quot;index.js&quot;,</div><div class="line">  &quot;scripts&quot;: &#123;</div><div class="line">    &quot;build&quot;: &quot;node_modules/.bin/webpack&quot;,</div><div class="line">    &quot;start&quot;: &quot;node_modules/.bin/webpack-dev-server&quot;,</div><div class="line">  &#125;,</div><div class="line">  &quot;repository&quot;: &#123;</div><div class="line">...</div></pre></td></tr></table></figure><h3 id="Build"><a href="#Build" class="headerlink" title="Build"></a>Build</h3><p>Build the application by running<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">npm run build</div></pre></td></tr></table></figure></p><h3 id="Running-in-dev"><a href="#Running-in-dev" class="headerlink" title="Running in dev"></a>Running in dev</h3><p>Run the application in dev with<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">npm run start</div></pre></td></tr></table></figure></p><p>You should be able to load the appliction in the browser at localhost:3001</p><p>Check out Part 2 coming soon to setup redux. Part 3 will document the setup of a basic three.js scene hooked up to our redux state.</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;I am always tremendously grateful for the pedagogical stewards of ‘hacking around on the internet’ who take the time to explain how to ge
      
    
    </summary>
    
    
      <category term="react redux three.js" scheme="http://glnro.github.io/tags/react-redux-three-js/"/>
    
  </entry>
  
</feed>
